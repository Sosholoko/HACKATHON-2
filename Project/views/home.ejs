<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,200;0,300;0,500;1,300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <title>Document</title>
    <style>
        body{
            background-color: rgb(38, 51, 80);
            color: white;
            font-family: 'Mulish', sans-serif;
            padding: 0;
            margin: 0;
        }
        #namewel{
            margin-left: 20px;
            font-size: 30px;
        }
        .container{
            overflow-y: scroll;
            height: 450px;
        }
        .general{
            display: flex;
            justify-content: center;
            padding: 0;
            margin: 0;
            
        }
        #fc{
            justify-content: center;
            flex-direction: column;
            /* border-right: 1px solid white; */
            height: 720px;
            width: 200px;
            float: left;
            
        }
        #fc a{
            text-align: center;
            margin-left: 15px;
        }
        #fc a:hover{
            color: rgb(0, 126, 243);
        }
        #fc div{
            padding-bottom: 50px;
        }
        #fc div a{
            text-decoration: none;
            color: white;
        }
        #hlogo{
            color: rgb(0, 126, 243);
        }

        #sc{
            width: 850px;
            border-left: .2px solid rgb(143, 143, 143);
            border-right: .2px solid rgb(134, 132, 132);
            overflow-x: scroll;
        }
        #tc{
            /* border-left: 1px solid white;  */
            width: 350px;
        }
        .tweet-box{
            /* border-top: 0.3px solid rgb(149, 148, 148);
            border-bottom: 0.3px solid rgb(158, 157, 157); */
            height: 150px;
        }
        textarea{
            height: 150px;
            width: 700px;
            resize: none;
            background-color: rgb(61, 76, 105);
            font-size: 25px;
            border: none;
            color: white;
            padding-left: 10px;
        }
        textarea:focus{
            outline: none;
        }
        .follow{
            border: .5px solid rgb(57, 73, 105);
            border-radius: 10px;
            margin-left: 7px;
            margin-right: 7px;
            margin-top: 50px;
            background-color: rgb(61, 76, 105);
        }
        li{
            border: .3px solid rgb(132, 133, 136);
            height: 80px;
            border-radius: 7px;
            font-size: 12px;
            padding-left: 10px;
        }
        li button{
            float: right;
        }
        .fa-twitter{
            font-size: 35px;
            margin-left: 30px;
            margin-top: 50px;
        }
        li p img{
            border-radius: 50%;
            border: .5px solid white;
        }
        .tweet-box img, #pp{
            border-radius: 50%;
            /* border-top: 0.3px solid white; */
            /* border-bottom: 0.3px solid white; */
        }
        .tweet-box button{
            position: relative;
            bottom: 50px;
            right: 30px;
            margin-left: 100px;
            border-radius: 15px;
            border: none;
            background-color: rgb(3, 129, 212);
            color: white;
            padding: 7px;
            width: 60px;
        }
        .fa-image{
            position: relative;
            font-size: 25px;
            bottom: 45px;
            left: 50px;
        }
        #fc a i{
            font-size: 22px;
            margin-right: 10px;
        }
        .follow li button{
            border-radius: 15px;
            border: .5px solid rgb(212, 103, 0);
            background-color: transparent;
            color: rgb(212, 103, 0);
            padding: 5px;
            width: 60px;
            margin-right: 10px;
            margin-top: 12px;
        }
        .follow li button:hover{
            cursor: pointer;
            border: .5px solid rgb(212, 103, 0);
            background-color: rgb(212, 103, 0);;
            color: white;
        }
        #titfol{
            padding-left: 10px;
            font-size: 22px;
        }
        .tweets{
            border-top: .3px solid rgb(119, 119, 119);
            border-bottom: .3px solid gray;
            background-color: rgb(30, 41, 65);;
            margin-bottom: 10px;
            margin-top: 5px;
            padding-bottom: 5px;
        }
        .tweets p{
            margin-left: 20px;

        }
        .fa-comment{
            margin-left: 50px;
            margin-right: 50px;
            margin-bottom: 5px;
        }
        .fa-heart, .fa-retweet, .fa-trash{
            margin-right: 50px;
            margin-bottom: 5px;
        }
        #twid{
            font-size: 10px;
            color: gray;
            margin-left: 8px;
        }
        #timestamp{
            font-size: 10px;
            margin-left: 490px;
            width: 30px;
        }
        #logout{
            margin-left: 50px;
            padding: 10px;
            background-color: transparent;
            color:  rgb(177, 72, 72);;
            border: 1px solid rgb(161, 46, 46);
            border-radius: 15px;
        }
        #logout:hover{
            cursor: pointer;
            background-color: rgb(185, 93, 93);
            color:  white;
            border: .5px solid rgb(185, 93, 93);
        }
        .fa-trash:hover{
            cursor: pointer;
            color: rgb(69, 221, 138);
        }
        .fa-heart:hover{
            color: rgb(182, 79, 79);
        }
        #welmes{
            position: relative;
            bottom: 14px;
        }
    </style>
</head>
<body>
    
<div class="general">
    <div id="fc">
        <i class="fab fa-twitter"></i><br><br><br><br><br>
        <div>
        <a href="#"><span id="hlogo"><i class="fas fa-home"></i> Home</span></a><br></div>
        <div>
        <a href="#"><i class="fas fa-hashtag" onclick="test()"></i> Explore</a><br></div>
        <div>
        <a href="#"><i class="far fa-bell"></i> Notification</a><br></div>
        <div>
        <a href="#"><i class="far fa-bookmark"></i> Bookmarks</a><br></div>
        <div>
        <a href="#"><i class="far fa-user"></i> Profile</a><br></div>
        <div>
        <a href="#"><i class="fas fa-ellipsis-h"></i> More</a></div>
        <form action="/">
            <button type="submit" value="Log Out" id="logout">Log Out</button>
        </form>
    </div>
    <div id="sc"><br>
        <p><p id="namewel"><img id="pp" src="/pic/IMG_0286.jpg" height="50px" width="50px"> <span id="welmes">Welcome back <span id="name"><%= name %></span> ;)</span></p></p>
        <div class="tweet-box">
            <textarea id="twit" placeholder="What's happening ?"></textarea>
            <i class="fas fa-image"> </i><button id="btn" type="button">Tweet</button>
        </div>
        <div class="container" id="container">

        </div>
    </div>
    <div id="tc">
        <div class="follow">
            <p id="titfol">Who to follow</p>
            <li><p><img src="/pic/hpprofile.jpg" height="25px" width="25px">  Harry Potter<button type="button">Follow</button></p><p>@harrypotReal</p></li>
            <li><p><img src="/pic/jim.jpeg" height="25px" width="25px">  Jim Halpert<button type="button">Follow</button></p><p>@Jimhal</p></li>
            <li><p><img src="/pic/rick.png" height="25px" width="25px">  Rick Sanchez<button type="button">Follow</button></p><p>@Labidubdub</p></li>
            <li><p><img src="/pic/home.jpg" height="25px" width="25px">  Homer Simpson<button type="button">Follow</button></p><p>@homerdonut</p></li>
        </div>
    </div>
</div>
</body>
<script>
    let field = document.getElementById('twit');
    let btn = document.getElementById('btn');
    let timel = document.getElementById('container');
    let uname = '<%- JSON.stringify(name)%>';
    let uname2 = JSON.parse(uname);

    let arr = [];

    field.addEventListener('keypress', added);
    function added(e){
        if(e.keyCode === 13){
            add()
            field.value = '';
        }
    };

    btn.addEventListener('click', add);
    function add(){
        console.log(field.value);
        console.log(uname2);
        let value = field.value;
        let time = new Date();
        let timestamph = time.getHours();
        let timestampm = time.getMinutes();
        if( timestampm < 10){
            timestampm = '0' + timestampm;
        }
        console.log(timestamph);
        console.log(timestampm);
        if (value.length <= 0){
        alert("Please fill up the fields")
        }
        else{
            let tweet = document.createElement('div');
            arr.push(tweet);
            console.log(arr);
            tweet.setAttribute('id', arr.indexOf(tweet));
            tweet.setAttribute('class', 'tweets' );
            tweet.innerHTML = `<p><img id="pp" src="/pic/IMG_0286.jpg" height="20px" width="20px"> ${uname2} <span id='twid'>@${uname2}5657</span> <span id="timestamp">${timestamph} : ${timestampm}</span></p>
                                <p>${value}</p><br>
                                <i class="far fa-comment"></i> <i class="far fa-heart"></i> <i class="far fa-retweet"></i> <i class="fas fa-trash" onclick="deleting(event)"></i> `;
            timel.appendChild(tweet);
            field.value = '';
        };

    }
    function test(){
        console.log('OK');
    }

    function deleting(e){
    var checkin = confirm('Do you want to delete the selected tweet ?')
    if( checkin == true){
        e.target.parentNode.remove();
        arr.shift();
    }
    else{
        null;
    }
    
};

</script>
</html>